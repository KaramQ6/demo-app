# ๐ ูุธุงู ุงูุจูุงูุงุช ุงูุญูุฉ ุงูุฌุฏูุฏ - Live Data Integration System

## ๐ฏ **ุงูุชุญุฏูุซ ุงููุทุจู**

ุชู ุชุทููุฑ ุงููุธุงู ููุณุชุฎุฏู **ุจูุงูุงุช ุญููููุฉ ูู API ุงูุทูุณ** ุจุฏูุงู ูู ุงูุจูุงูุงุช ุงูููููุฉ ูู ุตูุญุงุช Live Data ู IoT Hub.

## ๐ง **ุงูุชุญุฏูุซุงุช ุงูุฑุฆูุณูุฉ**

### **1. ุชูุงูู API ุงูุทูุณ ุงูุญูููู:**

```javascript
// API ุงูุทูุณ ุงููุจุงุดุฑ ูููุญุงูุธุงุช ูุงูุฃูุงูู ุงูุณูุงุญูุฉ
const weatherApiUrl = "https://n8n.smart-tour.app/webhook/Simple-Weather-API-Live-Data";

const fetchCityWeather = async (city) => {
    const response = await fetch(weatherApiUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
            lat: city.lat,
            lon: city.lon,
            lang: language === 'ar' ? 'ar' : 'en'
        })
    });
    // ูุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุฉ...
};
```

### **2. ูุธุงู Fallback ุฐูู:**

#### **ูู ุญุงูุฉ ูุฌุงุญ API:**
- โ ุจูุงูุงุช ุญููููุฉ ูู ุงูุฎุงุฏู
- โ ุฏุฑุฌุงุช ุญุฑุงุฑุฉ ูุนููุฉ
- โ ุญุงูุฉ ุงูุทูุณ ุงูุญููููุฉ

#### **ูู ุญุงูุฉ ูุดู API:**
- ๐ ุจูุงูุงุช ูุงูุนูุฉ ูุญุณูุจุฉ ุญุณุจ ุงููููุน
- ๐ ุฏุฑุฌุงุช ุญุฑุงุฑุฉ ููุทููุฉ ุญุณุจ ุงูููุทูุฉ
- ๐ ุงุณุชูุฑุงุฑูุฉ ุงูุฎุฏูุฉ ุจุฏูู ุงููุทุงุน

## ๐ **ุงูุจูุงูุงุช ุงููุฏุนููุฉ**

### **ุงููุญุงูุธุงุช (12 ูุญุงูุธุฉ):**
| ุงููุญุงูุธุฉ | ุงูุฅุญุฏุงุซูุงุช | ูุตุฏุฑ ุงูุจูุงูุงุช |
|---------|------------|---------------|
| ุนูุงู | 31.95, 35.91 | API โ Fallback |
| ุฅุฑุจุฏ | 32.56, 35.85 | API โ Fallback |
| ุงูุฒุฑูุงุก | 32.07, 36.09 | API โ Fallback |
| ุงูุนูุจุฉ | 29.53, 35.01 | API โ Fallback |
| ุฌุฑุด | 32.27, 35.89 | API โ Fallback |
| ... | ... | ... |

### **ุงูุฃูุงูู ุงูุณูุงุญูุฉ (6 ุฃูุงูู):**
| ุงูููุงู | ุงูุฅุญุฏุงุซูุงุช | ุงูุฎุตุงุฆุต |
|-------|------------|---------|
| ุนูุงู | 31.95, 35.91 | ุนุงุตูุฉ - ูุนุชุฏู |
| ุงูุจุชุฑุงุก | 30.33, 35.44 | ุฃุซุฑู - ุญุงุฑ |
| ุงูุนูุจุฉ | 29.53, 35.01 | ุณุงุญูู - ุญุงุฑ ุฌุฏุงู |
| ุงูุจุญุฑ ุงูููุช | 31.56, 35.47 | ููุฎูุถ - ุญุงุฑ |
| ูุงุฏู ุฑู | 29.53, 35.42 | ุตุญุฑุงูู - ูุชุบูุฑ |
| ุฌุฑุด | 32.27, 35.89 | ุฌุจูู - ุจุงุฑุฏ |

## ๐ก๏ธ **ุงูุฏุฑุฌุงุช ุงูุญุฑุงุฑุฉ ุงููุงูุนูุฉ ุญุณุจ ุงูููุทูุฉ:**

### **ุงูุนูุจุฉ (ุงูููุทูุฉ ุงูุณุงุญููุฉ):**
- **ูููุงู:** 22-30ยฐC
- **ููุงุฑุงู:** 32-44ยฐC

### **ุนุฌููู ูุฌุฑุด (ุงูููุงุทู ุงูุฌุจููุฉ):**
- **ูููุงู:** 14-22ยฐC
- **ููุงุฑุงู:** 24-36ยฐC

### **ุงูุจุญุฑ ุงูููุช (ุงูููุฎูุถ):**
- **ูููุงู:** 20-28ยฐC
- **ููุงุฑุงู:** 30-42ยฐC

### **ุจุงูู ุงููุฏู (ููุงุฎ ูุนุชุฏู):**
- **ูููุงู:** 16-24ยฐC
- **ููุงุฑุงู:** 26-38ยฐC

## ๐ป **ุชุญุฏูุซุงุช IoT Hub:**

### **1. ุจูุงูุงุช ุทูุณ ุญููููุฉ:**
```javascript
// ุฑุจุท ุจูุงูุงุช ุงูุทูุณ ุงูุญููููุฉ ูุน ุฃุฌูุฒุฉ IoT
const weatherData = iotHubData.find(place => 
    place.name === destination.name.en || 
    place.nameAr === destination.name.ar
);

const temperature = weatherData?.main?.temp || weatherData?.temperature;
const weatherIcon = weatherData?.weather?.[0]?.main === 'Clear' ? 'Sun' : 
                   weatherData?.weather?.[0]?.main === 'Rain' ? 'CloudRain' : 'Cloud';
```

### **2. ุญุณุงุจ ุฒูุงุฑ ุฐูู:**
```javascript
// ุญุณุงุจ ุนุฏุฏ ุงูุฒูุงุฑ ุจูุงุกู ุนูู ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ูุงูุจูุงูุงุช ุงูุญููููุฉ
const visitorsCount = Object.values(iotData).reduce((sum, data) => sum + (data.visitors || 0), 0) || 
                     (iotHubData.reduce((sum, place) => sum + ((place.main?.temp || 25) * 10), 0) || 1250);
```

## ๐ **ุงูุฅุญุตุงุฆูุงุช ูุงููุฑุงูุจุฉ:**

### **Console Logging ูููุทูุฑูู:**
```javascript
// ุฅุญุตุงุฆูุงุช API ููุงุจู Fallback ูููุญุงูุธุงุช
console.log(`API responses: ${apiCount}, Fallback data: ${fallbackCount}`);

// ุฅุญุตุงุฆูุงุช API ููุงุจู Fallback ููุฃูุงูู ุงูุณูุงุญูุฉ  
console.log(`Tourist API responses: ${apiTouristCount}, Fallback data: ${fallbackTouristCount}`);
```

### **ูุคุดุฑุงุช ุงูุฌูุฏุฉ:**
- ๐ข **API Success Rate:** ูุนุฑุถ ุนุฏุฏ ุงููุฏู ุงูุชู ุญุตูุช ุนูู ุจูุงูุงุช ุญููููุฉ
- ๐ก **Fallback Rate:** ูุนุฑุถ ุนุฏุฏ ุงููุฏู ุงูุชู ุงุณุชุฎุฏูุช ุงูุจูุงูุงุช ุงูุจุฏููุฉ
- ๐ด **Error Handling:** ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก ุจุฏูู ุชููู ุงูุฎุฏูุฉ

## โ **ุงูููุงุฑูุฉ ูุจู ูุจุนุฏ:**

### **ูุจู ุงูุชุญุฏูุซ:**
- โ ุจูุงูุงุช ููููุฉ ุซุงุจุชุฉ
- โ ุฏุฑุฌุงุช ุญุฑุงุฑุฉ ุนุดูุงุฆูุฉ ุบูุฑ ูุงูุนูุฉ
- โ ูุง ุชุนูุณ ุงูุฃุญูุงู ุงูุฌููุฉ ุงููุนููุฉ
- โ ููุณ ุงูุจูุงูุงุช ูุฌููุน ุงูููุงุทู

### **ุจุนุฏ ุงูุชุญุฏูุซ:**
- โ **ุจูุงูุงุช ุญููููุฉ ูู API ุงูุทูุณ**
- โ **ุฏุฑุฌุงุช ุญุฑุงุฑุฉ ูุนููุฉ ููู ููุทูุฉ**
- โ **ุญุงูุฉ ุงูุทูุณ ุงูุญููููุฉ ูู ุงูุฃููุงุฑ ุงูุตูุงุนูุฉ**
- โ **ุจูุงูุงุช ูุฎุตุตุฉ ููู ูุฏููุฉ ุญุณุจ ุฅุญุฏุงุซูุงุชูุง**
- โ **ูุธุงู fallback ุฐูู ูู ุญุงูุฉ ูุดู API**
- โ **ุชุญุฏูุซุงุช ูุณุชูุฑุฉ ูู 30 ุซุงููุฉ**

## ๐ **ุขููุฉ ุงูุนูู:**

1. **ุทูุจ ุงูุจูุงูุงุช:** ุฅุฑุณุงู ุทูุจ ููู ูุฏููุฉ ุจุงุณุชุฎุฏุงู ุฅุญุฏุงุซูุงุชูุง
2. **ูุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุฉ:** ุชุญููู JSON ูุชุฎุฒูู ุงูุจูุงูุงุช
3. **Fallback ุงูุชููุงุฆู:** ูู ุญุงูุฉ ูุดู APIุ ุงุณุชุฎุฏุงู ุจูุงูุงุช ูุงูุนูุฉ ูุญุณูุจุฉ
4. **ุงูุชุญุฏูุซ ุงููุณุชูุฑ:** ุชุญุฏูุซ ุงูุจูุงูุงุช ูู 30 ุซุงููุฉ
5. **ุนุฑุถ ุงูุจูุงูุงุช:** ุนุฑุถ ุงูุจูุงูุงุช ูู ูุงุฌูุฉ ูุณุชุฎุฏู ุฌูููุฉ

## ๐ **ุงูุชูุงุตูู ุงูุชูููุฉ:**

- **ุญุฌู ุงูููู:** 301.23 kB (+251 B)
- **ุงูุฎุงุฏู:** http://localhost:8084
- **APIs ุงููุณุชุฎุฏูุฉ:** Simple-Weather-API-Live-Data
- **ุงููุฏู ุงููุฏุนููุฉ:** 12 ูุญุงูุธุฉ + 6 ุฃูุงูู ุณูุงุญูุฉ
- **ูุนุฏู ุงูุชุญุฏูุซ:** ูู 30 ุซุงููุฉ
- **ุฏูุฉ ุงููููุน:** ุฅุญุฏุงุซูุงุช GPS ุฏูููุฉ

## ๐ **ุงูููุงุฆุฏ ุงููุญููุฉ:**

1. **ุฏูุฉ ุนุงููุฉ:** ุจูุงูุงุช ุญููููุฉ ูู ูุตุงุฏุฑ ููุซููุฉ
2. **ุชุฌุฑุจุฉ ุญููููุฉ:** ุงููุณุชุฎุฏููู ูุฑูู ุงูุทูุณ ุงููุนูู
3. **ููุซูููุฉ:** ูุธุงู fallback ูุถูู ุงุณุชูุฑุงุฑูุฉ ุงูุฎุฏูุฉ
4. **ุชุญุฏูุซ ูุณุชูุฑ:** ุจูุงูุงุช ูุญุฏุซุฉ ูู ูุตู ุฏูููุฉ
5. **ุชุบุทูุฉ ุดุงููุฉ:** ุฌููุน ูุญุงูุธุงุช ุงูุฃุฑุฏู ูุงูุฃูุงูู ุงูุณูุงุญูุฉ

ุงูุขู **ุตูุญุงุช Live Data ู IoT Hub ุชุนุฑุถ ุจูุงูุงุช ุญููููุฉ** ูู API ุงูุทูุณ! ๐
